<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="ApiByCategory.html" title="1つ上">
<title>共有オブジェクト読込と関数検索</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - 共有オブジェクト読込と関数検索
<hr>
<h1>共有オブジェクト読込と関数検索</h1>
<h2>概要</h2>
<p>
システムに依存したライブラリの読み込みルーチン群.
</p>
<p>
共有オブジェクトとは, 実行中にプログラムがロードするコードである.
これは, Windowsならば"DLL"と呼ばれ, Linuxならば「共有ライブラリ」と呼ばれる.
</p>
<p>
共有オブジェクトを使うには, そのようなライブラリを作成し, これに対して<a href="SDL_LoadObject.html">SDL_LoadObject()</a>を呼ぶ.
読み込んだ後は, オブジェクトに<a href="SDL_LoadFunction.html">SDL_LoadFunction()</a>を使用して外部に出されたシンボルのアドレスを見つける.
オブジェクトを使い終えたら, <a href="SDL_UnloadObject.html">SDL_UnloadObject()</a>で破棄する.
</p>
<p>
いくつか注意する必要がある:
</p>
<ul>
<li>これらの関数は, C言語の関数名のみ扱える.
他の言語では, 名前修飾や, コンパイラによって異なる固有の対応がある.
<li>アプリケーションの関数へのポインタと, ライブラリの関数の呼び出し規約が同じであることを確認すること.
これを行わないと実行中に不明なクラッシュが起こるだろう.
<li>名前空間の衝突を避けること.
ライブラリからシンボルを読み込むとき, それが既に定義されていてもいなくても, アプリケーションのグローバルな名前空間のシンボルとなる.
もし, シンボルがアプリケーションまたは他の共有ライブラリと衝突すると, 予期しない結果となる.
<li>ライブラリが破棄されると, <a href="SDL_LoadFunction.html">SDL_LoadFunction()</a>の戻り値に含まれる全てのポインタは, 後で再読み込みした場合でも無効になる.
以後にポインタを使う可能性がある場合は, ライブラリを破棄してはならない.
特にatexit()でこれらのポインタを使っている場合は, ライブラリを破棄した後にポインタを呼ばないように注意する必要がある.
</ul>
<h2>関数</h2>
<ol>
<li><a href="SDL_LoadFunction.html">SDL_LoadFunction</a> - 共有オブジェクトから名前で関数のアドレスを検索しそれを戻す
<li><a href="SDL_LoadObject.html">SDL_LoadObject</a> - 共有オブジェクトを動的に読み込む
<li><a href="SDL_UnloadObject.html">SDL_UnloadObject</a> - 共有オブジェクトを解放する
</ol>
<h2>型</h2>
<ol>
<li><a href="SDL_SharedObject.html">SDL_SharedObject</a> - 読み込まれた共通オブジェクトを表す不透明型
</ol>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/CategorySharedObject">SDL3/CategorySharedObject - SDL Wiki</a>
<hr>
</body>
</html>
