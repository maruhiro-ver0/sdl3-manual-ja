<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="Simple Directmedia Layer SDL3.0">
<link rel="top" href="index.html" title="ホーム">
<link rel="parent" href="ApiByCategory.html" title="1つ上">
<title>組み込み関数の検知</title>
</head>
<body>
<a href="index.html">目次</a> - <a href="ApiByCategory.html">SDL 3.0 API(機能別)</a> - 組み込み関数の検知
<hr>
<h1>組み込み関数の検知</h1>
<h2>概要</h2>
<p>
CPU固有のコンパイラの組み込み関数の有無のプリプロセッサによるチェックをSDLで行う. これはシステムの複雑な要因, ビルドツールのバージョン, その他の外部要因に依存し, 必ずしも簡単ではないためである.
</p>
<p>
SDLヘッダをインクルードしたアプリケーションは, 特定のCPUアーキテクチャの組み込み関数を安全に使用できるか判断するために, プリプロセッサの定義をチェックできる.
これはコンパイラが組み込み命令を使えるかをチェックするだけで, 実行時には, SDL_HasSSE()やSDL_HasNEON()のようなシステムのCPU情報関数でチェックする必要がある.
そうしないと, 対応していないCPU命令を使用したときクラッシュする.
</p>
<p>
SDLは, CPU組み込み関数が対応しているときプリプロセッサの定義を設定するだけなので, アプリケーションは#ifではなく#ifdefでチェックする必要がある.
</p>
<p>
SDLは適切な命令セット固有のヘッダもインクルードする.
例えば, もしSDLがSDL_SSE2_INTRINSICSが定義されていれば, #include <emmintrin.h>も同様に定義されている.
</p>
<h2>マクロ</h2>
<ol>
<li>SDL_ALTIVEC_INTRINSICS
<li>SDL_AVX2_INTRINSICS
<li>SDL_AVX512F_INTRINSICS
<li>SDL_AVX_INTRINSICS
<li>SDL_LASX_INTRINSICS
<li>SDL_LSX_INTRINSICS
<li>SDL_MMX_INTRINSICS
<li>SDL_NEON_INTRINSICS
<li>SDL_SSE2_INTRINSICS
<li>SDL_SSE3_INTRINSICS
<li>SDL_SSE4_1_INTRINSICS
<li>SDL_SSE4_2_INTRINSICS
<li>SDL_SSE_INTRINSICS
<li>SDL_TARGETING
</ol>
<h2>SDL Wikiへのリンク</h2>
<a href="https://wiki.libsdl.org/SDL3/CategoryIntrinsics">SDL3/CategoryIntrinsics - SDL Wiki</a>
<hr>
</body>
</html>
